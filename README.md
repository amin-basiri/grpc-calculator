## Develop

1) Install Proto Compiler
```shell
sudo apt install -y protobuf-compiler
```

2) Install Requirements
```shell
pip install -r requirements.txt
```
  
> We use `grpcio` and `grpcio-tools` packages to serving rpc service using python


3) Create ProtoBuf Schema Definition In `.proto` File

4) Compile ProtoBuf To Python Codes Using `grpcio-tools`
```shell
python -m grpc_tools.protoc -I. --python_out=. --grpc_python_out=. calculator.proto
```

> The `pb2` file is compiled protobuf and also can be generated by `protoc` 
> and the `pb2_grpc` file is to serve `rpc` service by `grpc` and uses `pb2` file as proto definition.

5) Create `server.py` and implement functions like `calculate` in `servicer`, then initialize server instance.


> We use `grpcio-reflection` to list available services and messages to clients


## Start
Run server by invoke `server.py` script
```shell
python server.py 3000
```
> python server.py `PORT_NUMBER`


## Test
for test we can use `Postman` or [`grpcurl`](https://github.com/fullstorydev/grpcurl)

> Create `client.py` and connect to server and send a `CalculationRequest` using protobuf files

run client and test the server:

```shell
python client.py 127.0.0.1:3000 10 ADD 20
```
```shell
python client.py 127.0.0.1:3000 10 MINUS 20
```
```shell
python client.py IP:PORT Number_1 Operation Number_2
```

